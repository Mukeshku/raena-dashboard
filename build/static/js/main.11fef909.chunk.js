/*!

=========================================================
* Raena Dashboard - v1.0.0
=========================================================

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
/*! For license information please see main.11fef909.chunk.js.LICENSE.txt */
(this["webpackJsonpraena-dashboard"]=this["webpackJsonpraena-dashboard"]||[]).push([[0],{131:function(e,t,a){},132:function(e,t,a){},223:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t);var n=a(23),s=a(0),r=a.n(s),c=a(18),i=a.n(c),o=a(39),l=a(13),d=(a(130),a(131),a(132),a(133),a(8)),b=a(55),j=a(270),u=a(271),h=a(272),O=a(273),f=a(267),x=a(268),p=a(265),m=a(266),g=a(15),v=a.n(g),D=a(56),y=a.n(D),w=a(45),S=a.n(w),k=a(57),C=a.n(k),N=a(58),A=a.n(N),E=a(1),T=function(e){var t=e||{},a=t.data,n=t.title,s=void 0===n?"":n,r=t.subtitle,c=void 0===r?"":r,i=t.isLoading,o=void 0===i||i,l=a||{},d=l.success,b=l.errorMessage;"object"===typeof v.a&&(v.a.setOptions({lang:{numericSymbols:[" K"," M"," B"," T"]}}),S()(v.a),C()(v.a));var j={chart:{type:"line"},title:{text:s.toUpperCase()},subtitle:{text:c},xAxis:{categories:a.dateArray},yAxis:{title:{text:a.yAxisText}},plotOptions:{line:{dataLabels:{enabled:!1},enableMouseTracking:!0},series:{marker:{enabled:!0}}},series:a.seriesData};return Object(E.jsx)(p.a,{className:"card-chart",children:Object(E.jsxs)(m.a,{children:[o&&Object(E.jsx)("table",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsx)(A.a,{type:"Grid",color:"#00BFFF",height:10,width:10})}),Object(E.jsx)("td",{children:"\xa0\xa0Please wait while we fetch data."})]})}),!d&&!o&&b&&Object(E.jsx)("div",{children:b}),!o&&d&&Object(E.jsx)(y.a,{highcharts:v.a,options:j})]})})},L=a(33),M=a(34),F=a(35),R=a(36),I=a(125),B=a(5),P=a.n(B),W=a(83),U=(a(223),function(e){Object(R.a)(a,e);var t=Object(I.a)(a);function a(e){var n;return Object(L.a)(this,a),(n=t.call(this,e)).DATE_FORMAT="dd-MM-yyyy",n.state={startDate:e.startDate,endDate:e.endDate,onDateChange:e.onDateChange},n.handleStartDateChange=n.handleStartDateChange.bind(Object(F.a)(n)),n.handleEndDateChange=n.handleEndDateChange.bind(Object(F.a)(n)),n}return Object(M.a)(a,[{key:"sendCallback",value:function(e,t){this.state.onDateChange&&this.state.onDateChange(e,t)}},{key:"handleStartDateChange",value:function(e){var t=new Date(e),a=this.state.endDate;this.setState(Object(n.a)(Object(n.a)({},this.state),{startDate:t})),this.sendCallback({startDate:t,endDate:a})}},{key:"handleEndDateChange",value:function(e){var t=new Date(e),a=this.state.startDate;this.setState(Object(n.a)(Object(n.a)({},this.state),{endDate:t})),this.sendCallback({startDate:a,endDate:t})}},{key:"render",value:function(){var e=this.props.className;P()(e,"d-flex","my-auto","date-range");return Object(E.jsxs)(f.a,{children:[Object(E.jsxs)(x.a,{md:"6",children:[Object(E.jsx)("span",{children:"Start Date \xa0 "}),Object(E.jsx)(W.a,{size:"sm",selected:this.state.startDate,onChange:this.handleStartDateChange,dropdownMode:"select",className:"text-center",dateFormat:this.DATE_FORMAT,maxDate:new Date})]}),Object(E.jsxs)(x.a,{md:"6",children:[Object(E.jsx)("span",{children:"End Date \xa0 "}),Object(E.jsx)(W.a,{size:"sm",selected:this.state.endDate,onChange:this.handleEndDateChange,dropdownMode:"select",className:"text-center",dateFormat:this.DATE_FORMAT,maxDate:new Date})]})]})}}]),a}(r.a.Component)),z=a(38),G=a(24),_=a.n(G),q=a(123),H=a.n(q).a.create({baseURL:"https://raena.shrikshel.in/api/",responseType:"json"}),J="resellers/loyaltyTransactions",Y="resellers/resellers",K="resellers/orders",X="resellers/revenue",Q="resellers/brands",V=[J,Y,K,X],Z=[J,K,X,Q],$={"Access-Control-Allow-Origin":"*"},ee=function(){var e=Object(z.a)(_.a.mark((function e(t,a,n,s){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.post(n,{startDate:t,endDate:a,selectedResellerIds:s},{header:$}).then((function(e){r=te(e,n)})).catch((function(e){r={success:!1,errorMessage:e.message}}));case 2:return e.abrupt("return",r);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n,s){return e.apply(this,arguments)}}(),te=function(e,t){var a,n=ae(t);if(t===Q){var s=function(e){var t=(e||[]).data,a=[],n=[];return t.forEach((function(e){var t=e||{},s=t.brandId,r=t.count;a.push(s),n.push(r)})),{categories:a,brandCounts:n}}(e);a={categories:s.categories,brandCounts:s.brandCounts,yAxisText:n,success:"true"}}else{var r=function(e){var t,a=[],n=[],s=[],r=[],c=0;return null===(t=e.data)||void 0===t||t.forEach((function(e){if(e._id&&e.tiers.length){a[c]=e._id;var t=new Map;e.tiers.forEach((function(e){t.set(e.tierId,e.total)})),n[c]=t.get("bf645e97-8a48-4977-8367-e987489760f9")||0,s[c]=t.get("8eb95d6e-915a-4a91-9c12-fa43db995e19")||0,r[c]=t.get("07030fbe-5801-4318-9e97-fe33fa169894")||0,c++}})),{dateArray:a,seriesData:[{name:"Gold",data:n},{name:"Silver",data:s},{name:"bronze",data:r}]}}(e);a={dateArray:r.dateArray,seriesData:r.seriesData,yAxisText:n,success:"true"}}return a},ae=function(e){switch(e){case J:return"Points";case Y:return"Reseller Count";case K:return"Order Count";case X:return"Amount";case Q:return"Brands Amount";default:return""}},ne=function(){var e=Object(z.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.get("/resellers/all/"+t,{header:$}).then((function(e){var t=(e||{}).data;a=t})).catch((function(e){a={success:!1,errorMessage:e.message}}));case 2:return e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(e,t){return void 0===e||void 0===t?-1:Math.floor(t-e)/864e5},re=function(){var e=new Date((new Date).setDate((new Date).getDate()-30)),t=new Date,a=Object(s.useState)({}),n=Object(d.a)(a,2),r=n[0],c=n[1],i=Object(s.useState)({}),o=Object(d.a)(i,2),l=o[0],b=o[1],j=Object(s.useState)({}),u=Object(d.a)(j,2),h=u[0],O=u[1],p=Object(s.useState)({}),m=Object(d.a)(p,2),g=m[0],v=m[1],D=Object(s.useState)(e),y=Object(d.a)(D,2),w=y[0],S=y[1],k=Object(s.useState)(t),C=Object(d.a)(k,2),N=C[0],A=C[1];Object(s.useEffect)((function(){V.forEach((function(e){ee(w,N,e,[]).then((function(t){!function(e,t){switch(t){case J:c(e);break;case Y:v(e);break;case K:O(e);break;case X:b(e)}}(t,e)}))}))}),[w,N]);return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"content",children:[Object(E.jsx)(U,{onDateChange:function(e){var t=e.startDate,a=e.endDate;a&&t&&(se(t,a)>=0?(S(t.toISOString()),A(a.toISOString()),b({}),v({}),O({}),c({})):alert("end Date always greater than equal start Date"))},startDate:w,endDate:N}),Object(E.jsx)("span",{children:"\xa0\xa0"}),Object(E.jsxs)(f.a,{children:[Object(E.jsx)(x.a,{md:"6",children:Object(E.jsx)(T,{data:r,title:"Points Generated",subtitle:"",isLoading:0===Object.keys(r).length})}),Object(E.jsx)(x.a,{md:"6",children:Object(E.jsx)(T,{data:l,title:"Revenue",subtitle:"",isLoading:0===Object.keys(l).length})})]}),Object(E.jsxs)(f.a,{children:[Object(E.jsx)(x.a,{md:"6",children:Object(E.jsx)(T,{data:h,title:"Orders",subtitle:"",isLoading:0===Object.keys(h).length})}),Object(E.jsx)(x.a,{md:"6",children:Object(E.jsx)(T,{data:g,title:"Transacting Users",subtitle:"",isLoading:0===Object.keys(g).length})})]})]})})},ce=a(269),ie=a(124),oe=a(91),le=function(e){var t=e.hitApi,a=e.minSearchTextLength,n=e.onItemChange,s=a||1;return Object(E.jsx)(ie.a,{isMulti:!0,cacheOptions:!0,defaultOptions:!0,placeholder:"Min "+s+" char required to search",onChange:function(e){var t=e.map((function(e){return e.value}));n(t)},loadOptions:function(e){if(!(Object(oe.isEmpty)(e)||e.length<s))return new Promise((function(a){a(function(e){return t||console.log("Not API end point is defined. Pass function to this component to Hit API"),t(e).then((function(e){if(Object(oe.isArray)(e)&&e.length>0)return e.map((function(e){return{color:"#00B8D9",isFixed:!0,label:e,value:e}}))}))}(e))}))}})},de=function(e){var t=e||{},a=t.data,n=t.title,s=void 0===n?"":n,r=t.subtitle,c=void 0===r?"":r,i=t.isLoading,o=void 0===i||i,l=a||{},d=l.categories,b=l.brandCounts,j=l.yAxisText,u=a||{},h=u.success,O=u.errorMessage;"object"===typeof v.a&&(v.a.setOptions({lang:{numericSymbols:[" Th"," M"," B"," T"]}}),S()(v.a),C()(v.a));var f={chart:{type:"column"},title:{text:s.toUpperCase()},subtitle:{text:c},xAxis:{categories:d,crosshair:!0},yAxis:{min:0,title:{text:j}},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">Amount:&nbsp;</td><td style="padding:0"><b>{point.y}</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[{name:"Brands",data:b}]};return Object(E.jsx)(p.a,{className:"card-chart",children:Object(E.jsxs)(m.a,{children:[o&&Object(E.jsx)("table",{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{children:Object(E.jsx)(A.a,{type:"Grid",color:"#00BFFF",height:10,width:10})}),Object(E.jsx)("td",{children:"\xa0\xa0Please wait while we fetch data."})]})}),!h&&!o&&O&&Object(E.jsx)("div",{children:O}),!o&&h&&Object(E.jsx)(y.a,{highcharts:v.a,options:f})]})})},be=function(){var e=new Date((new Date).setDate((new Date).getDate()-30)),t=new Date,a=Object(s.useState)({}),n=Object(d.a)(a,2),r=n[0],c=n[1],i=Object(s.useState)({}),o=Object(d.a)(i,2),l=o[0],b=o[1],j=Object(s.useState)({}),u=Object(d.a)(j,2),h=u[0],O=u[1],p=Object(s.useState)({}),m=Object(d.a)(p,2),g=m[0],v=m[1],D=Object(s.useState)(e),y=Object(d.a)(D,2),w=y[0],S=y[1],k=Object(s.useState)(t),C=Object(d.a)(k,2),N=C[0],A=C[1],L=Object(s.useState)([]),M=Object(d.a)(L,2),F=M[0],R=M[1],I=function(){Z.forEach((function(e){ee(w,N,e,F).then((function(t){!function(e,t){switch(t){case J:c(e);break;case Q:v(e);break;case K:O(e);break;case X:b(e)}}(t,e)}))}))};Object(s.useEffect)((function(){I()}),[]);var B=function(){var e=Object(z.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"content",children:[Object(E.jsxs)(f.a,{children:[Object(E.jsx)(x.a,{md:"6",children:Object(E.jsx)(U,{onDateChange:function(e){var t=e.startDate,a=e.endDate;a&&t&&(se(t,a)>=0?(S(t.toISOString()),A(a.toISOString())):alert("end Date always greater than equal start Date"))},startDate:w,endDate:N})}),Object(E.jsxs)(x.a,{md:"3",children:[Object(E.jsx)("span",{children:"\xa0Search a Reseller ID \xa0 "}),Object(E.jsx)(le,{hitApi:B,minSearchTextLength:3,onItemChange:function(e){R(e)}})]}),Object(E.jsx)(x.a,{md:"3",children:Object(E.jsx)(ce.a,{onClick:function(){b({}),v({}),O({}),c({}),I()},color:"primary",children:"SUBMIT"})})]}),Object(E.jsx)("hr",{style:{color:"rgba(0,0,0,0.02)",backgroundColor:"rgba(0,0,0,0.03)",height:1}}),Object(E.jsx)("span",{children:"\xa0\xa0"}),Object(E.jsxs)(f.a,{children:[Object(E.jsx)(x.a,{md:"6",children:Object(E.jsx)(T,{data:r,title:"Points Generated",subtitle:"",isLoading:0===Object.keys(r).length})}),Object(E.jsx)(x.a,{md:"6",children:Object(E.jsx)(T,{data:l,title:"Revenue",subtitle:"",isLoading:0===Object.keys(l).length})})]}),Object(E.jsxs)(f.a,{children:[Object(E.jsx)(x.a,{md:"6",children:Object(E.jsx)(T,{data:h,title:"Orders",subtitle:"",isLoading:0===Object.keys(h).length})}),Object(E.jsx)(x.a,{md:"6",children:Object(E.jsx)(de,{data:g,title:"Revenue by brand",subtitle:"",isLoading:0===Object.keys(g).length})})]})]})})},je=[{path:"/dashboard",name:"Summary",icon:"nc-icon nc-chart-bar-32",component:re,layout:"/admin"},{path:"/user/summary",name:"Users",icon:"nc-icon nc-single-02",component:be,layout:"/admin"}];var ue=function(e){var t=this,a=r.a.useState(!1),n=Object(d.a)(a,2),s=n[0],c=n[1],i=r.a.useState(!1),o=Object(d.a)(i,2),b=(o[0],o[1],r.a.useState("transparent")),f=Object(d.a)(b,2),x=f[0],p=f[1],m=r.a.useRef(),g=Object(l.g)(),v=function(){window.innerWidth<993&&s?p("dark"):p("transparent")};return r.a.useEffect((function(){window.addEventListener("resize",v.bind(t))})),r.a.useEffect((function(){window.innerWidth<993&&-1!==document.documentElement.className.indexOf("nav-open")&&(document.documentElement.classList.toggle("nav-open"),m.current.classList.toggle("toggled"))}),[g]),Object(E.jsx)(j.a,{color:-1!==e.location.pathname.indexOf("full-screen-maps")?"dark":x,expand:"lg",className:-1!==e.location.pathname.indexOf("full-screen-maps")?"navbar-absolute fixed-top":"navbar-absolute fixed-top "+("transparent"===x?"navbar-transparent ":""),children:Object(E.jsxs)(u.a,{fluid:!0,children:[Object(E.jsxs)("div",{className:"navbar-wrapper",children:[Object(E.jsx)("div",{className:"navbar-toggle",children:Object(E.jsxs)("button",{type:"button",ref:m,className:"navbar-toggler",onClick:function(){return document.documentElement.classList.toggle("nav-open"),void m.current.classList.toggle("toggled")},children:[Object(E.jsx)("span",{className:"navbar-toggler-bar bar1"}),Object(E.jsx)("span",{className:"navbar-toggler-bar bar2"}),Object(E.jsx)("span",{className:"navbar-toggler-bar bar3"})]})}),Object(E.jsx)(h.a,{href:"/",children:function(){var e="Default Brand";return je.map((function(t,a){return-1!==window.location.href.indexOf(t.layout+t.path)&&(e=t.name),null})),e}()})]}),Object(E.jsxs)(O.a,{onClick:function(){p(s?"transparent":"dark"),c(!s)},children:[Object(E.jsx)("span",{className:"navbar-toggler-bar navbar-kebab"}),Object(E.jsx)("span",{className:"navbar-toggler-bar navbar-kebab"}),Object(E.jsx)("span",{className:"navbar-toggler-bar navbar-kebab"})]})]})})};var he,Oe=function(e){return Object(E.jsx)("footer",{className:"footer"+(e.default?" footer-default":""),children:Object(E.jsx)(u.a,{fluid:e.fluid,children:Object(E.jsx)(f.a,{children:Object(E.jsx)("div",{className:"credits ml-auto",children:Object(E.jsxs)("div",{className:"copyright",children:["\xa9 ",1900+(new Date).getYear(),", made with"," ",Object(E.jsx)("i",{className:"fa fa-heart heart"})," by Raena"]})})})})})},fe=a(274);var xe,pe=function(e){var t=r.a.useRef();return r.a.useEffect((function(){return navigator.platform.indexOf("Win")>-1&&(he=new b.a(t.current,{suppressScrollX:!0,suppressScrollY:!1})),function(){navigator.platform.indexOf("Win")>-1&&he.destroy()}})),Object(E.jsxs)("div",{className:"sidebar","data-color":e.bgColor,"data-active-color":e.activeColor,children:[Object(E.jsxs)("div",{className:"logo",children:[Object(E.jsx)("a",{href:"https://www.creative-tim.com",className:"simple-text logo-mini",children:Object(E.jsx)("div",{className:"nc-icon nc-sound-wave"})}),Object(E.jsx)("a",{className:"simple-text",children:"Raena Dashboard"})]}),Object(E.jsx)("div",{className:"sidebar-wrapper",ref:t,children:Object(E.jsx)(fe.a,{children:e.routes.map((function(t,a){return Object(E.jsx)("li",{className:(n=t.path,(e.location.pathname.indexOf(n)>-1?"active":"")+(t.pro?" active-pro":"")),children:Object(E.jsxs)(o.b,{to:t.layout+t.path,className:"nav-link",activeClassName:"active",children:[Object(E.jsx)("i",{className:t.icon}),Object(E.jsx)("p",{children:t.name})]})},a);var n}))})})]})};var me=function(e){var t=r.a.useState("black"),a=Object(d.a)(t,2),s=a[0],c=(a[1],r.a.useState("info")),i=Object(d.a)(c,2),o=i[0],j=(i[1],r.a.useRef()),u=Object(l.g)();return r.a.useEffect((function(){return navigator.platform.indexOf("Win")>-1&&(xe=new b.a(j.current),document.body.classList.toggle("perfect-scrollbar-on")),function(){navigator.platform.indexOf("Win")>-1&&(xe.destroy(),document.body.classList.toggle("perfect-scrollbar-on"))}})),r.a.useEffect((function(){j.current.scrollTop=0,document.scrollingElement.scrollTop=0}),[u]),Object(E.jsxs)("div",{className:"wrapper",children:[Object(E.jsx)(pe,Object(n.a)(Object(n.a)({},e),{},{routes:je,bgColor:s,activeColor:o})),Object(E.jsxs)("div",{className:"main-panel",ref:j,children:[Object(E.jsx)(ue,Object(n.a)({},e)),Object(E.jsx)(l.d,{children:je.map((function(e,t){return Object(E.jsx)(l.b,{path:e.layout+e.path,component:e.component},t)}))}),Object(E.jsx)(Oe,{fluid:!0})]})]})};i.a.render(Object(E.jsx)(o.a,{children:Object(E.jsxs)(l.d,{children:[Object(E.jsx)(l.b,{path:"/admin",render:function(e){return Object(E.jsx)(me,Object(n.a)({},e))}}),Object(E.jsx)(l.a,{to:"/admin/dashboard"})]})}),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.11fef909.chunk.js.map